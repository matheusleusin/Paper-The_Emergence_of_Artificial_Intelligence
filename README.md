# Replication Code for "Breaking in or Breaking Through? How Local Specialisations Shape the Integration of AI Technologies"

This repository contains the full R implementation for the analysis presented in the paper: *"Breaking in or Breaking Through? How Local Specialisations Shape the Integration of AI Technologies"*. The published paper can be accessed [here](https://www.tandfonline.com/doi/full/10.1080/10438599.2025.2558626/).

The code and supporting files can be used to reproduce all calculations, figures, and robustness analyses presented in the paper. For a user-friendly overview of the code and the main estimations, please see the supplementary [html](https://matheusleusin.github.io/Paper-The_Emergence_of_Artificial_Intelligence/) summary file (also available as index.html in this repository).

## Documentation Map

The remainder of this README is structured to guide you from high-level concepts to technical implementation:

    *   üé• Video & Visual Abstract: A multimedia summary of the paper's core findings (Video + Infographic).
    *   üóÇÔ∏è Repository & Documentation Overview
    *   ‚ö° Quick Start: Step-by-step instructions on how to reproduce the analysis using the R scripts.
    *   üíæ Data Requirements: Details on the proprietary (PATSTAT) and open-source data needed.
    *   üìä Generated Files: A dictionary of the key output files you will create.

## üé• Video Overview & Visual Abstract

To make the findings accessible to a broader audience (as well as give a quick overview of the paper), we have created a visual map of the core mechanisms and an AI-generated animated video synthesis.

### üé•üéß Video: The Strategic Path to AI Leadership
*An AI-generated discussion (via NotebookLM) synthesizing the paper's contextualization and main findings.*

[![Watch the Video Summary](https://img.youtube.com/vi/slwnt5D534Q/maxresdefault.jpg)](https://www.youtube.com/watch?v=slwnt5D534Q)

### üó∫Ô∏è Visualize: The Mechanics of AI Integration
The image below illustrates the two distinct pathways for national AI integration identified in the paper: anchoring AI to historical industrial strengths vs. developing frontier specialization.

<img width="2752" height="1536" alt="infographic" src="https://github.com/user-attachments/assets/1faef602-1c27-42f4-822c-a72a5b2967bc" />

---
## üóÇÔ∏è Repository & Documentation Overview

### File Structure
The repository is organized as follows:

```text
/
‚îú‚îÄ‚îÄ large_files/                            # (User-provided) Raw PATSTAT data (ignored by git)
‚îú‚îÄ‚îÄ other_files/                            # Supporting input files and sample data
‚îú‚îÄ‚îÄ Files_created_with_the_code/            # Output directory for all generated results
‚îÇ   ‚îú‚îÄ‚îÄ data/                               # Processed datasets (intermediate & final)
‚îÇ   ‚îî‚îÄ‚îÄ figures/                            # All plots generated by the R scripts
‚îú‚îÄ‚îÄ 1.Main_code.R                           # Script 1: Generates primary results & main figures
‚îú‚îÄ‚îÄ 2.Figures_appendix.R                    # Script 2: Reproduces appendix figures
‚îú‚îÄ‚îÄ 3.Robustness_analysis.R                 # Script 3: Runs additional robustness checks
‚îú‚îÄ‚îÄ index.Rmd                               # Source for the detailed HTML walkthrough
‚îú‚îÄ‚îÄ infographic.png                         # Visual abstract for the README
‚îî‚îÄ‚îÄ README.md                               # This documentation file
/
```

## Quick Start & How to Run

1.  **Step-by-step Guide**: For a detailed, step-by-step walkthrough of the main analysis, please see the R Markdown file `index.Rmd` or the compiled [html](https://matheusleusin.github.io/Paper-The_Emergence_of_Artificial_Intelligence/). This file explains the entire analytical pipeline, from data preparation to the generation of the main figures and econometric analyses. It also contains the additional regressions performed for Table 3 and Table 4, which are briefly mentioned in the footnotes of the paper.

5.  **Running the Scripts**: The analysis is divided into three main R scripts that should be run in order:
    *   `1.Main_code.R`: Generates the primary results and main figures of the paper.
    *   `2.Figures_appendix.R`: Reproduces the figures presented in the appendices.
    *   `3.Robustness_analysis.R`: Conducts the additional robustness checks, such as varying time intervals and RTA thresholds.

---

## Data Requirements

Running the code in this repository requires two sets of input data, organized into the `large_files` and `other_files` folders.

### ‚ö†Ô∏è Required Proprietary Data (`large_files`)

The `large_files` folder is designed to contain the complete patent and inventor location data from the **PATSTAT 2019 (spring edition)** database for the period 1974‚Äì2018.

**Important:** Due to PATSTAT's intellectual property restrictions and large file sizes, this raw data is **not provided** in this repository (the folder is ignored by `.gitignore`).

**For users without a PATSTAT license:** A similar, publicly available dataset that links patents to inventor locations can be accessed here: [https://doi.org/10.7910/DVN/OTTBDX](https://doi.org/10.7910/DVN/OTTBDX).

**For users with a PATSTAT license wishing to perform a full replication:** You will need to generate the input files following the geolocational strategy presented in De Rassenfosse et al. (2019) and structure them as follows:
*   The data should be split into two categories for the two levels of analysis: **technological fields** and **IPC subclasses**.
*   Due to their size, each category must be further divided into two parts:
    *   `Part1`: containing data from 1974 to 2003 (inclusive).
    *   `Part2`: containing data from 2004 to 2018 (inclusive).

### ‚úÖ Provided Supporting Files (`other_files`)

The `other_files` folder **is included** in this repository and contains all other necessary input files. Crucially, this folder also includes small **data samples** (e.g., `All_patents_and_IPCs_Part1_SmallSampleWithHeader.csv`) to illustrate the exact format, column names, and structure required for the proprietary data.

---

## Repository Structure

*   **`large_files/` (User-provided):** Destination for large, proprietary PATSTAT data files. This folder is listed in `.gitignore`. An overview of these files inside their respective folder is shown below:
  
![image](https://github.com/user-attachments/assets/70388ae2-e728-40f0-b586-4fbada2a2351)


*   **`other_files/` (Included):** Contains all necessary supporting data and samples of the proprietary files to show the required format.
*   **`Files_created_with_the_code/` (Generated):** This is the output directory where all generated data and figures are saved. It is organized into two subfolders:
    *   **`data/`**: Contains all processed datasets and analytical results. It is further subdivided into `files_code_Fields_analysis/` and `files_code_4-digits_analysis/`.
    *   **`figures/`**: Contains all figures generated by the R scripts.

**Note on `.gitignore`**: In addition to `large_files/`, a subfolder for the permutation data (`Files_created_with_the_code/data/files_code_4-digits_analysis/robustness/`) is also ignored due to its large size (>1GB). The code will generate these files if run.

---

## Description of Key Generated Data Files

The R scripts will generate a number of intermediate and final data files. The most important outputs saved in `Files_created_with_the_code/data/` include:

### Technological Fields Analysis (`files_code_Fields_analysis/`)

*   **`reg_tech_*.csv` & `reg_techAI_*.csv`**: These files contain the foundational patent counts per country, per technological field, for each of the three main time intervals, for both 'general' (all patents) and 'AI-specific' patents.
*   **`Data*period_RTA_techn_field.csv`**: Contains the calculated RTA values for all countries and technological fields for each of the three main intervals.
*   **`RTA_4countries_detailed.csv`**: A summary file containing the detailed RTA values and specialization types ('general', 'AI-specific', 'coinciding') for the four leading countries across all periods.

### IPC Subclass Analysis (`files_code_4-digits_analysis/`)

*   **`Data*period_RTA_subclass.csv`**: The equivalent of the RTA files above, but at the more granular IPC subclass level.
*   **`RTA_*_AI.csv`**: Contains the RTA values for subclasses calculated using only AI patents for each of the three intervals.
*   **`IPC_RTAs_subclass.csv`**: A summary file combining the general and AI-specific subclass specializations for all intervals.

Many other files are generated, particularly for the robustness analyses, which typically recalculate these core datasets under different time intervals or RTA thresholds.
